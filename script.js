const onscroll = (el, listener) => { el.addEventListener("scroll", listener); }; let backtotop = document.getElementById("back-to-top"); if (backtotop) { const toggleBacktotop = () => { if (window.scrollY > 100) { backtotop.classList.add("active"); } else { backtotop.classList.remove("active"); } }; window.addEventListener("load", toggleBacktotop); onscroll(document, toggleBacktotop); } let preloader = document.getElementById("preloader"); if (preloader) { window.addEventListener("load", () => { preloader.remove(); }); } window.addEventListener("load", () => { AOS.init({ duration: 1000, easing: "ease-in-out", once: true, mirror: false, }); }); var form = document.getElementById("form"); form.addEventListener("submit", handleForm); var button = document.getElementById("submit"); setMessage("");async function validate() { button.innerHTML = '<i class="white fa fa-circle-o-notch fa-spin"></i>'; var name = document.getElementById("name").value; var email = document.getElementById("email").value; if (name.length != 0 && validateEmail(email)) { button.classList.add("disabled"); button.disabled = true; await sendMail(name, email); } else { button.classList = ""; button.innerHTML = "Submit"; setMessage("InValid"); } }async function sendMail(name, email) { var phoneNumber = document.getElementById("number").value; var url = `https://2rdl97plde.execute-api.ap-south-1.amazonaws.com/EmailService/sendemail?Name=${name}&Email=${email}&Number=${phoneNumber}`; const response = await fetch(url, { method: "GET", headers: { "Content-Type": "application/json", }, }); if (response.status > 299) { setMessage("Error"); button.innerHTML = ""; button.innerText = "Submit"; } else if (response.status >= 200) { setMessage("Success"); button.innerHTML = ""; button.innerText = "Submit"; form.reset(); } }function handleForm(event) { event.preventDefault(); }function setMessage(status) { var message = document.getElementById("message"); message.classList = ""; switch (status) { case "Success": message.classList.add("text-success"); message.innerHTML = "*We have recived you mail, we will contact you soon."; break; case "Error": message.classList.add("text-danger"); message.innerHTML = "*Something went wrong, Please try again."; break; case "InValid": message.classList.add("text-danger"); message.innerHTML = "*Please check your name and email again"; break; default: message.classList.add("text-dark"); message.innerHTML = "*We will try to reach you as soon as possible"; } }function validateEmail(email) { const res = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/; return res.test(String(email).toLowerCase()); } 